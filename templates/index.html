<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP Manager</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="icon" href="/static/favicon.png">
	
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script>
        (function() {
            const theme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', theme);
        })();
    </script>
</head>
<body data-initial-page="{{ page }}">

    <div id="ui-container">
        <header class="app-header">
            <button id="sidebar-toggle-btn" class="sidebar-toggle-btn">‚ò∞</button>
            <div class="logo">IP Manager</div>
            <nav id="main-nav">
                <a href="/stats" data-page="stats">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
				<a href="/notes" data-page="notes">–ú–æ–∏ –∑–∞–º–µ—Ç–∫–∏</a>
                <a href="/bans" data-page="bans">–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏</a>
                <a href="/exceptions" data-page="exceptions">–ò—Å–∫–ª—é—á–µ–Ω–∏—è</a>
                
                {% if user.role in [UserRole.EDITOR, UserRole.ADMIN] %}
                <a href="/check" data-page="check">–ü—Ä–æ–≤–µ—Ä–∫–∞ IP</a>
                <a href="/playbooks" data-page="playbooks">–ü–ª–µ–π–±—É–∫–∏</a>
                <a href="/ad_access" data-page="ad_access">–î–æ—Å—Ç—É–ø AD</a>
                {% endif %}

                {% if user.role == UserRole.ADMIN %}
                <a href="/webhooks" data-page="webhooks">–í–µ–±—Ö—É–∫–∏</a>
                <a href="/audit" data-page="audit">–ñ—É—Ä–Ω–∞–ª –∞—É–¥–∏—Ç–∞</a>
				<a href="/users" data-page="users">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</a>
                <a href="/ad_settings" data-page="ad_settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏ AD</a>
                {% endif %}
            </nav>
            <div class="user-menu">
                <button id="theme-toggle" class="btn-small">üåô</button> 
                <span class="user-role-badge {{ user.role }}">{{ user.role }}</span>
                <span>{{ user.username }}</span>
                <a href="/logout" class="btn-logout">–í—ã–π—Ç–∏</a>
            </div>
        </header>

        <main id="app-content" class="content-loading">
            </main>
    </div>

    <div id="sidebar-overlay"></div>
    <div id="modal-outlet"></div>
    <div id="toast-outlet"></div>
    
    <script src="/static/vendor/showdown.min.js"></script>

    <script type="module" src="/static/js/main.js"></script>
</body>
</html>