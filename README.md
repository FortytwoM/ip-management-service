IP Management Service

IP Management Service ‚Äî —ç—Ç–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞–º–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ IP-–∞–¥—Ä–µ—Å–æ–≤ (–±–∞–Ω-–ª–∏—Å—Ç–∞–º–∏), —Å–ø–∏—Å–∫–∞–º–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å–∞–º —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å Active Directory.

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–µ FastAPI –¥–ª—è –±—ç–∫–µ–Ω–¥–∞ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç "–≤–∞–Ω–∏–ª—å–Ω—ã–π" JavaScript (SPA) –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –±—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–ª–∏–∫ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü.

üñºÔ∏è –ì–∞–ª–µ—Ä–µ—è

![–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞](.github/images/stats.png)

![–ó–∞–º–µ—Ç–∫–∏](.github/images/notes.png)

![–ü—Ä–æ–≤–µ—Ä–∫–∞](.github/images/check.png)

üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

–ë—ç–∫–µ–Ω–¥

    –§—Ä–µ–π–º–≤–æ—Ä–∫: FastAPI ‚Äî –∑–∞ —Å—á—ë—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è API.

    –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: PostgreSQL ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤—Å–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏: —Å–ø–∏—Å–∫–æ–≤ IP, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–æ–º–µ–Ω–æ–≤ –∏ –ª–æ–≥–æ–≤.

    –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –ë–î: SQLAlchemy ‚Äî –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–∞–∫ ORM –¥–ª—è —É–¥–æ–±–Ω–æ–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

    –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö: Pydantic ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å—Ç—Ä–æ–≥–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∏ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –≤ API-–∑–∞–ø—Ä–æ—Å–∞—Ö.

    –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Active Directory: –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ ldap3 ‚Äî –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –ø–æ–∏—Å–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –≥—Ä—É–ø–ø–∞–º–∏ –≤ AD.

    –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: –ù–∞ –æ—Å–Ω–æ–≤–µ —Å–µ—Å—Å–∏–æ–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤ –≤ httpOnly cookie. –ü–∞—Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Ö—ç—à–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é bcrypt.

–§—Ä–æ–Ω—Ç–µ–Ω–¥

    –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: SPA (Single Page Application) ‚Äî –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑, –∞ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø—É—Ç—ë–º –∑–∞–≥—Ä—É–∑–∫–∏ HTML-—Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏—Ö JS-–º–æ–¥—É–ª–µ–π.

    –Ø–∑—ã–∫: Vanilla JavaScript (ESM) ‚Äî –∫–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ —á–∏—Å—Ç–æ–º JavaScript —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–æ–¥—É–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å —Ç—è–∂—ë–ª—ã—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –∏ —É—Å–∫–æ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É.

    –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏: –í–Ω–µ—à–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å–≤–µ–¥–µ–Ω—ã –∫ –º–∏–Ω–∏–º—É–º—É –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ—á–µ—á–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Chart.js –¥–ª—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏).

üíæ –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

–î–∞–Ω–Ω—ã–µ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏:

    –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL:

        bans –∏ exceptions: –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö IP-–∞–¥—Ä–µ—Å–æ–≤ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π. IP-–∞–¥—Ä–µ—Å–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∏ –ø–æ–∏—Å–∫–∞ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ü–µ–ª–æ—á–∏—Å–ª–µ–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ (ip_int).

        users: –•—Ä–∞–Ω–∏—Ç —É—á—ë—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∏—Ö —Ä–æ–ª–∏ (admin, editor, viewer) –∏ —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ä–æ–ª–∏.

        ad_domains –∏ ad_managed_groups: –°–æ–¥–µ—Ä–∂–∞—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –¥–æ–º–µ–Ω–∞–º Active Directory. –ü–∞—Ä–æ–ª–∏ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ AD —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–∏–º–º–µ—Ç—Ä–∏—á–Ω–æ–≥–æ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ cryptography).

        ad_memberships: –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç, –∫–æ–º—É, –∫–µ–º –∏ –Ω–∞ –∫–∞–∫–æ–π —Å—Ä–æ–∫ –±—ã–ª –≤—ã–¥–∞–Ω –¥–æ—Å—Ç—É–ø –≤ –≥—Ä—É–ø–ø—É AD.

        ad_cached_users –∏ ad_cached_groups: –ö—ç—à –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –≥—Ä—É–ø–ø –∏–∑ AD –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞ –∏ —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –¥–æ–º–µ–Ω–∞. –ö—ç—à –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ.

        audit_logs: –ñ—É—Ä–Ω–∞–ª –≤—Å–µ—Ö –∑–Ω–∞—á–∏–º—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –≤ —Å–∏—Å—Ç–µ–º–µ.

    –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞:

        banlist.txt: –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î –∏ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ–∞–π—Ä–≤–æ–ª–∞–º–∏).

        list.zip: –ê—Ä—Ö–∏–≤ —Å banlist.txt –∏ —Ñ–∞–π–ª–æ–º –≤–µ—Ä—Å–∏–∏, –∫–æ—Ç–æ—Ä—ã–π —Ç–∞–∫–∂–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

‚ú® –ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

    –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ IP-–∞–¥—Ä–µ—Å–∞–º–∏: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ IP/–ø–æ–¥—Å–µ—Ç–µ–π –≤ —Å–ø–∏—Å–∫–∞—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏–π, –≤ —Ç–æ–º —á–∏—Å–ª–µ –º–∞—Å—Å–æ–≤–æ —á–µ—Ä–µ–∑ –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤.

    –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Active Directory:

        –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–æ–≤: –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –¥–æ–º–µ–Ω–∞–º AD.

        –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –∏–ª–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ—Å—É—Ä—Å–∞–º –ø—É—Ç—ë–º –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏—Ö –≤ —É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –≥—Ä—É–ø–ø—ã AD. –°—Ä–æ–∫ –¥–æ—Å—Ç—É–ø–∞ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º, –∏ –ø–æ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –¥–æ—Å—Ç—É–ø –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∑—ã–≤–∞–µ—Ç—Å—è.

        –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ: –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –≥—Ä—É–ø–ø—ã –∏–∑ AD –∫—ç—à–∏—Ä—É—é—Ç—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –ë–î.

    –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏ IP: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏ (AbuseIPDB, VirusTotal –∏ –¥—Ä.) –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏ IP-–∞–¥—Ä–µ—Å–æ–≤.

    –†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å –¥–æ—Å—Ç—É–ø–∞: –¢—Ä–∏ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, –†–µ–¥–∞–∫—Ç–æ—Ä, –ü—Ä–æ—Å–º–æ—Ç—Ä) —Å —Ä–∞–∑–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π.


    –ê—É–¥–∏—Ç –∏ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å: –í–µ–¥–µ–Ω–∏–µ –∂—É—Ä–Ω–∞–ª–∞ –¥–µ–π—Å—Ç–≤–∏–π –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º –≤ –≤–∏–¥–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤.
